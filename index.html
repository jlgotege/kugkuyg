<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mobile Flow</title>
  <style>
    :root{
      --bg:#0b1020;
      --card:#121a33;
      --text:#e9eeff;
      --muted:#a9b3d6;
      --accent:#7aa7ff;
      --good:#34d399;
      --shadow: 0 18px 50px rgba(0,0,0,.35);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background: var(--bg);
      color:var(--text);
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:16px;
    }
    .phone{
      width:min(420px, 100%);
      background: rgba(255,255,255,.04);
      border-radius: 26px;
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    header{
      padding:14px 16px;
      display:flex;
      justify-content:space-between;
      align-items:center;
      background: rgba(0,0,0,.25);
      min-height:56px;
      gap:10px;
    }
    .header-left{
      flex:1;
      font-size:14px;
      color:var(--text);
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      opacity:.9;
    }
    .chosen{ font-size:26px; line-height:1; }

    .content{ padding:14px }

    .card{
      background: rgba(18,26,51,.7);
      border-radius: var(--radius);
      padding:14px;
    }

    .flags{
      display:grid;
      grid-template-columns: repeat(5, 1fr);
      gap:10px;
    }
    .flag-btn{
      border:none;
      background: rgba(255,255,255,.08);
      border-radius:14px;
      font-size:28px;
      padding:10px 0;
      cursor:pointer;
      touch-action: manipulation;
      user-select:none;
      transition: transform .08s ease, background .2s ease;
    }
    .flag-btn:active{ transform: scale(.98); }
    .flag-btn.selected{
      background: rgba(122,167,255,.25);
    }

    .form{
      margin-top:14px;
      display:grid;
      gap:10px;
    }
    label{
      font-size:12px;
      color:var(--muted);
      display:block;
      margin:0 0 6px 2px;
    }
    input{
      width:100%;
      padding:12px;
      border-radius:14px;
      border:none;
      background: rgba(255,255,255,.08);
      color:var(--text);
      font-size:15px;
      outline:none;
    }
    input::placeholder{ color: rgba(233,238,255,.35); }

    .actions{
      display:grid;
      gap:10px;
      margin-top:10px;
    }
    .btn{
      padding:12px;
      border-radius:16px;
      border:none;
      font-size:15px;
      font-weight:600;
      cursor:pointer;
      touch-action: manipulation;
      user-select:none;
    }
    .btn.primary{
      background: linear-gradient(180deg, #7aa7ff, #5f86e8);
      color:#0b1020;
    }
    .btn.secondary{
      background: rgba(255,255,255,.08);
      color:var(--text);
    }
    .btn:disabled{ opacity:.6; cursor:not-allowed; }

    /* RESULT */
    .result{ display:none; padding:14px }
    .result.active{ display:block }

    .passport-area{
      height:48vh;
      max-height: 430px;
      min-height: 260px;
      display:flex;
      align-items:center;
      justify-content:center;
      background: rgba(0,0,0,.25);
    }
    .passport-area img{
      width:100%;
      height:100%;
      object-fit:contain;
    }

    .check-area{
      height:34vh;
      max-height: 320px;
      min-height: 190px;
      display:flex;
      align-items:center;
      justify-content:center;
    }
    .check{
      width:120px;
      height:120px;
      border-radius:50%;
      background: rgba(52,211,153,.2);
      display:flex;
      align-items:center;
      justify-content:center;
      box-shadow: 0 18px 45px rgba(52,211,153,.18);
    }
    .check svg{
      width:64px;
      height:64px;
      stroke:var(--good);
      stroke-width:10;
      fill:none;
      stroke-linecap: round;
      stroke-linejoin: round;
    }

    /* LOADING (spinner only) */
    .loading{
      position:fixed;
      inset:0;
      background: rgba(0,0,0,.6);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:999;
      backdrop-filter: blur(6px);
    }
    .loading.active{ display:flex }
    .spinner{
      width:48px;
      height:48px;
      border-radius:50%;
      border:4px solid rgba(255,255,255,.2);
      border-top-color:#7aa7ff;
      animation: spin 1s linear infinite;
    }
    @keyframes spin{ to{transform:rotate(360deg)} }
  </style>
</head>

<body>

  <!-- FORM SCREEN -->
  <div class="phone" id="screenForm">
    <header>
      <div class="header-left"></div>
      <div class="chosen" id="chosenFlag">ðŸ‡ªðŸ‡º</div>
    </header>

    <div class="content">
      <div class="card">
        <div class="flags" id="flagsGrid"></div>

        <div class="form">
          <div>
            <label for="firstName">First name</label>
            <input id="firstName" placeholder="" autocomplete="off" />
          </div>
          <div>
            <label for="lastName">Last name</label>
            <input id="lastName" placeholder="" autocomplete="off" />
          </div>

          <div class="actions">
            <button class="btn primary" id="btnContinue">Continue</button>
            <button class="btn secondary" id="btnReset">Reset</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- RESULT SCREEN -->
  <div class="phone result" id="screenResult">
    <header>
      <div class="header-left" id="resultName"></div>
      <div class="chosen" id="resultFlag">ðŸ‡ªðŸ‡º</div>
    </header>

    <div class="passport-area">
      <img src="https://i.ibb.co/QFjPZQzR/image.png" alt="">
    </div>
    <div class="check-area">
      <div class="check" aria-label="success">
        <svg viewBox="0 0 100 100">
          <path d="M20 52 L42 72 L80 30"/>
        </svg>
      </div>
    </div>
  </div>

  <!-- LOADING -->
  <div class="loading" id="loading">
    <div class="spinner"></div>
  </div>

  <script>
    const EU_FLAGS = [
      "ðŸ‡¦ðŸ‡¹","ðŸ‡§ðŸ‡ª","ðŸ‡§ðŸ‡¬","ðŸ‡­ðŸ‡·","ðŸ‡¨ðŸ‡¾",
      "ðŸ‡¨ðŸ‡¿","ðŸ‡©ðŸ‡°","ðŸ‡ªðŸ‡ª","ðŸ‡«ðŸ‡®","ðŸ‡«ðŸ‡·",
      "ðŸ‡©ðŸ‡ª","ðŸ‡¬ðŸ‡·","ðŸ‡­ðŸ‡º","ðŸ‡®ðŸ‡ª","ðŸ‡®ðŸ‡¹",
      "ðŸ‡±ðŸ‡»","ðŸ‡±ðŸ‡¹","ðŸ‡±ðŸ‡º","ðŸ‡²ðŸ‡¹","ðŸ‡³ðŸ‡±",
      "ðŸ‡µðŸ‡±","ðŸ‡µðŸ‡¹","ðŸ‡·ðŸ‡´","ðŸ‡¸ðŸ‡°","ðŸ‡¸ðŸ‡®",
      "ðŸ‡ªðŸ‡¸","ðŸ‡¸ðŸ‡ª","ðŸ‡¨ðŸ‡­","ðŸ‡³ðŸ‡´","ðŸ‡¬ðŸ‡§"
    ];

    const flagsGrid = document.getElementById("flagsGrid");
    const chosenFlag = document.getElementById("chosenFlag");
    const resultFlag = document.getElementById("resultFlag");
    const resultName = document.getElementById("resultName");
    const loading = document.getElementById("loading");

    const screenForm = document.getElementById("screenForm");
    const screenResult = document.getElementById("screenResult");

    const firstName = document.getElementById("firstName");
    const lastName = document.getElementById("lastName");

    const btnContinue = document.getElementById("btnContinue");
    const btnReset = document.getElementById("btnReset");

    let selected = EU_FLAGS[0];

    function renderFlags(){
      flagsGrid.innerHTML = "";
      EU_FLAGS.forEach(f => {
        const b = document.createElement("button");
        b.className = "flag-btn" + (f === selected ? " selected" : "");
        b.type = "button";
        b.textContent = f;
        b.addEventListener("click", () => {
          selected = f;
          chosenFlag.textContent = f;
          renderFlags();
          if (navigator.vibrate) navigator.vibrate(20);
        });
        flagsGrid.appendChild(b);
      });
      chosenFlag.textContent = selected;
    }

    renderFlags();

    btnContinue.addEventListener("click", async () => {
      // keep fields as entered (no auto-fill)
      const fn = (firstName.value || "").trim();
      const ln = (lastName.value || "").trim();
      const full = (fn + " " + ln).trim();

      btnContinue.disabled = true;
      btnReset.disabled = true;

      loading.classList.add("active");
      await new Promise(r => setTimeout(r, 2500)); // longer loading
      loading.classList.remove("active");

      resultFlag.textContent = selected;
      resultName.textContent = full;

      screenForm.style.display = "none";
      screenResult.classList.add("active");
    });

    btnReset.addEventListener("click", () => {
      firstName.value = "";
      lastName.value = "";
      btnContinue.disabled = false;
      btnReset.disabled = false;
    });
  </script>

</body>
</html>
